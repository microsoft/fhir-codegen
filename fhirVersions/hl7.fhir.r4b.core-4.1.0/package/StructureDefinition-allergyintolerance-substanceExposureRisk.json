{"abstract":false,"baseDefinition":"http://hl7.org/fhir/StructureDefinition/Extension","contact":[{"telecom":[{"system":"url","value":"HL7"}]}],"context":[{"expression":"AllergyIntolerance","type":"element"}],"date":"2015-02-21","derivation":"constraint","description":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","differential":{"element":[{"comment":"This extension is available and is intended to be used as a more completely structured and flexible alternative to the 'code' element for representing positive and negative allergy and intolerance statements.  If this extension element is present, the AllergyIntolerance.code element SHALL be omitted (see invariant \"code or substanceExposureRisk\").","constraint":[{"expression":"substanceExposureRisk.exists() and code.empty()","human":"If the substanceExposureRisk extension element is present, the AllergyIntolerance.code element must be omitted.","key":"inv-1","severity":"error","xpath":"exists(f:substanceExposureRisk) and not(exists(f:code))"}],"definition":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension","max":"1","min":0,"path":"Extension","short":"Exposure risk of adverse reaction (allergy or intolerance) to the specified substance/product"},{"comment":"It is strongly recommended that this element be populated using a terminology, where possible. For example, some terminologies used include RxNorm, SNOMED CT, DM+D, NDFRT, UNII, and ATC. Plain text should only be used if there is no appropriate terminology available. Additional details can be specified in the text.","definition":"Code for a substance or pharmaceutical product that is considered to be responsible for the adverse reaction risk or is known not to have an associated risk of an adverse reaction upon exposure.","id":"Extension.extension:substance","mapping":[{"identity":"v2","map":"AL1-3 / IAM-3"},{"identity":"rim","map":".participation[typeCode=CAGNT].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code <= ExposureAgentEntityType]"}],"max":"1","min":1,"path":"Extension.extension","short":"Substance (or pharmaceutical product)","sliceName":"substance","type":[{"code":"Extension"}]},{"id":"Extension.extension:substance.extension","max":"0","path":"Extension.extension.extension"},{"fixedUri":"substance","id":"Extension.extension:substance.url","path":"Extension.extension.url","type":[{"code":"uri"}]},{"binding":{"description":"Codes defining the type of the substance (including pharmaceutical products).","extension":[{"url":"http://hl7.org/fhir/build/StructureDefinition/definition","valueString":"Codes defining the type of the substance (including pharmaceutical products)."},{"url":"http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName","valueString":"SubstanceCode"}],"strength":"example","valueSet":"http://hl7.org/fhir/ValueSet/substance-code"},"id":"Extension.extension:substance.value[x]","min":1,"path":"Extension.extension.value[x]","type":[{"code":"CodeableConcept"}]},{"comment":"exposureRisk is a modifier of the substance.","definition":"The presence or absence of a known exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension.extension:exposureRisk","max":"1","min":1,"path":"Extension.extension","short":"known-reaction-risk | no-known-reaction-risk","sliceName":"exposureRisk","type":[{"code":"Extension"}]},{"id":"Extension.extension:exposureRisk.extension","max":"0","path":"Extension.extension.extension"},{"fixedUri":"exposureRisk","id":"Extension.extension:exposureRisk.url","path":"Extension.extension.url","type":[{"code":"uri"}]},{"binding":{"description":"The risk of an adverse reaction (allergy or intolerance) for this patient upon exposure to the substance (including pharmaceutical products).","extension":[{"url":"http://hl7.org/fhir/build/StructureDefinition/definition","valueString":"The risk of an adverse reaction (allergy or intolerance) for this patient upon exposure to the substance (including pharmaceutical products)."},{"url":"http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName","valueString":"AllergyIntoleranceSubstanceExposureRisk"}],"strength":"required","valueSet":"http://hl7.org/fhir/ValueSet/allerg-intol-substance-exp-risk"},"id":"Extension.extension:exposureRisk.value[x]","min":1,"path":"Extension.extension.value[x]","type":[{"code":"CodeableConcept"}]},{"fixedUri":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk","id":"Extension.url","path":"Extension.url"},{"id":"Extension.value[x]","max":"0","min":0,"path":"Extension.value[x]"}]},"extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-wg","valueCode":"pc"},{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fmm","valueInteger":1}],"fhirVersion":"4.1.0","id":"allergyintolerance-substanceExposureRisk","kind":"complex-type","mapping":[{"identity":"v2","name":"HL7 v2 Mapping","uri":"http://hl7.org/v2"},{"identity":"rim","name":"RIM Mapping","uri":"http://hl7.org/v3"}],"name":"substanceExposureRisk","publisher":"Health Level Seven, Inc. - FHIR WG","resourceType":"StructureDefinition","snapshot":{"element":[{"base":{"max":"*","min":0,"path":"Extension"},"comment":"This extension is available and is intended to be used as a more completely structured and flexible alternative to the 'code' element for representing positive and negative allergy and intolerance statements.  If this extension element is present, the AllergyIntolerance.code element SHALL be omitted (see invariant \"code or substanceExposureRisk\").","condition":["ele-1"],"constraint":[{"expression":"hasValue() or (children().count() > id.count()) or $this is Parameters","human":"All FHIR elements must have a @value or children unless an empty Parameters resource","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div|self::f:Parameters"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), 'value')])"},{"expression":"substanceExposureRisk.exists() and code.empty()","human":"If the substanceExposureRisk extension element is present, the AllergyIntolerance.code element must be omitted.","key":"inv-1","severity":"error","xpath":"exists(f:substanceExposureRisk) and not(exists(f:code))"}],"definition":"A complex extension allowing structured capture of the exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension","isModifier":false,"max":"1","min":0,"path":"Extension","short":"Exposure risk of adverse reaction (allergy or intolerance) to the specified substance/product"},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension.id","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.id","representation":["xmlAttr"],"short":"Unique id for inter-element referencing","type":[{"code":"http://hl7.org/fhirpath/System.String","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type","valueUri":"string"}]}]},{"alias":["extensions","user content"],"base":{"max":"*","min":0,"path":"Element.extension"},"comment":"There can be no stigma associated with the use of extensions by any application, project, or standard - regardless of the institution or jurisdiction that uses or defines the extensions.  The use of extensions is what allows the FHIR specification to retain a core level of simplicity for everyone.","constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])"}],"definition":"May be used to represent additional information that is not part of the basic definition of the element. To make the use of extensions safe and manageable, there is a strict set of governance  applied to the definition and use of extensions. Though any implementer can define an extension, there is a set of requirements that SHALL be met as part of the definition of the extension.","id":"Extension.extension","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"n/a"}],"max":"*","min":0,"path":"Extension.extension","short":"Additional content defined by implementations","slicing":{"description":"Extensions are always sliced by (at least) url","discriminator":[{"path":"url","type":"value"}],"rules":"open"},"type":[{"code":"Extension"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"comment":"It is strongly recommended that this element be populated using a terminology, where possible. For example, some terminologies used include RxNorm, SNOMED CT, DM+D, NDFRT, UNII, and ATC. Plain text should only be used if there is no appropriate terminology available. Additional details can be specified in the text.","constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])"}],"definition":"Code for a substance or pharmaceutical product that is considered to be responsible for the adverse reaction risk or is known not to have an associated risk of an adverse reaction upon exposure.","id":"Extension.extension:substance","isModifier":false,"isSummary":false,"mapping":[{"identity":"v2","map":"AL1-3 / IAM-3"},{"identity":"rim","map":".participation[typeCode=CAGNT].role[classCode=ADMM].player[classCode=MAT, determinerCode=KIND, code <= ExposureAgentEntityType]"}],"max":"1","min":1,"path":"Extension.extension","short":"Substance (or pharmaceutical product)","sliceName":"substance","type":[{"code":"Extension"}]},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension.extension:substance.id","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.extension.id","representation":["xmlAttr"],"short":"Unique id for inter-element referencing","type":[{"code":"http://hl7.org/fhirpath/System.String","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type","valueUri":"string"}]}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])"}],"definition":"An Extension","id":"Extension.extension:substance.extension","isModifier":false,"isSummary":false,"max":"0","min":0,"path":"Extension.extension.extension","short":"Extension","slicing":{"description":"Extensions are always sliced by (at least) url","discriminator":[{"path":"url","type":"value"}],"rules":"open"},"type":[{"code":"Extension"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comment":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"substance","id":"Extension.extension:substance.url","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"uri"}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"binding":{"description":"Codes defining the type of the substance (including pharmaceutical products).","extension":[{"url":"http://hl7.org/fhir/build/StructureDefinition/definition","valueString":"Codes defining the type of the substance (including pharmaceutical products)."},{"url":"http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName","valueString":"SubstanceCode"}],"strength":"example","valueSet":"http://hl7.org/fhir/ValueSet/substance-code"},"constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"}],"definition":"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).","id":"Extension.extension:substance.value[x]","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.value[x]","short":"Value of extension","type":[{"code":"CodeableConcept"}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"comment":"exposureRisk is a modifier of the substance.","constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])"}],"definition":"The presence or absence of a known exposure risk of the patient for an adverse reaction (allergy or intolerance) to the specified substance/product.","id":"Extension.extension:exposureRisk","isModifier":false,"isSummary":false,"max":"1","min":1,"path":"Extension.extension","short":"known-reaction-risk | no-known-reaction-risk","sliceName":"exposureRisk","type":[{"code":"Extension"}]},{"base":{"max":"1","min":0,"path":"Element.id"},"definition":"Unique id for the element within a resource (for internal references). This may be any string value that does not contain spaces.","id":"Extension.extension:exposureRisk.id","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"n/a"}],"max":"1","min":0,"path":"Extension.extension.id","representation":["xmlAttr"],"short":"Unique id for inter-element referencing","type":[{"code":"http://hl7.org/fhirpath/System.String","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type","valueUri":"string"}]}]},{"base":{"max":"*","min":0,"path":"Element.extension"},"constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"},{"expression":"extension.exists() != value.exists()","human":"Must have either extensions or value[x], not both","key":"ext-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Extension","xpath":"exists(f:extension)!=exists(f:*[starts-with(local-name(.), \"value\")])"}],"definition":"An Extension","id":"Extension.extension:exposureRisk.extension","isModifier":false,"isSummary":false,"max":"0","min":0,"path":"Extension.extension.extension","short":"Extension","slicing":{"description":"Extensions are always sliced by (at least) url","discriminator":[{"path":"url","type":"value"}],"rules":"open"},"type":[{"code":"Extension"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comment":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"exposureRisk","id":"Extension.extension:exposureRisk.url","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"uri"}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"binding":{"description":"The risk of an adverse reaction (allergy or intolerance) for this patient upon exposure to the substance (including pharmaceutical products).","extension":[{"url":"http://hl7.org/fhir/build/StructureDefinition/definition","valueString":"The risk of an adverse reaction (allergy or intolerance) for this patient upon exposure to the substance (including pharmaceutical products)."},{"url":"http://hl7.org/fhir/StructureDefinition/elementdefinition-bindingName","valueString":"AllergyIntoleranceSubstanceExposureRisk"}],"strength":"required","valueSet":"http://hl7.org/fhir/ValueSet/allerg-intol-substance-exp-risk"},"constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"}],"definition":"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).","id":"Extension.extension:exposureRisk.value[x]","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.extension.value[x]","short":"Value of extension","type":[{"code":"CodeableConcept"}]},{"base":{"max":"1","min":1,"path":"Extension.url"},"comment":"The definition may point directly to a computable or human-readable definition of the extensibility codes, or it may be a logical URI as declared in some other specification. The definition SHALL be a URI for the Structure Definition defining the extension.","definition":"Source of the definition for the extension code - a logical name or a URL.","fixedUri":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk","id":"Extension.url","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"1","min":1,"path":"Extension.url","representation":["xmlAttr"],"short":"identifies the meaning of the extension","type":[{"code":"http://hl7.org/fhirpath/System.String","extension":[{"url":"http://hl7.org/fhir/StructureDefinition/structuredefinition-fhir-type","valueUri":"uri"}]}]},{"base":{"max":"1","min":0,"path":"Extension.value[x]"},"constraint":[{"expression":"hasValue() or (children().count() > id.count())","human":"All FHIR elements must have a @value or children","key":"ele-1","severity":"error","source":"http://hl7.org/fhir/StructureDefinition/Element","xpath":"@value|f:*|h:div"}],"definition":"Value of extension - must be one of a constrained set of the data types (see [Extensibility](extensibility.html) for a list).","id":"Extension.value[x]","isModifier":false,"isSummary":false,"mapping":[{"identity":"rim","map":"N/A"}],"max":"0","min":0,"path":"Extension.value[x]","short":"Value of extension","type":[{"code":"base64Binary"},{"code":"boolean"},{"code":"canonical"},{"code":"code"},{"code":"date"},{"code":"dateTime"},{"code":"decimal"},{"code":"id"},{"code":"instant"},{"code":"integer"},{"code":"markdown"},{"code":"oid"},{"code":"positiveInt"},{"code":"string"},{"code":"time"},{"code":"unsignedInt"},{"code":"uri"},{"code":"url"},{"code":"uuid"},{"code":"Address"},{"code":"Age"},{"code":"Annotation"},{"code":"Attachment"},{"code":"CodeableConcept"},{"code":"Coding"},{"code":"ContactPoint"},{"code":"Count"},{"code":"Distance"},{"code":"Duration"},{"code":"HumanName"},{"code":"Identifier"},{"code":"Money"},{"code":"Period"},{"code":"Quantity"},{"code":"Range"},{"code":"Ratio"},{"code":"Reference"},{"code":"SampledData"},{"code":"Signature"},{"code":"Timing"},{"code":"ContactDetail"},{"code":"Contributor"},{"code":"DataRequirement"},{"code":"Expression"},{"code":"ParameterDefinition"},{"code":"RelatedArtifact"},{"code":"TriggerDefinition"},{"code":"UsageContext"},{"code":"Dosage"},{"code":"Meta"}]}]},"status":"draft","title":"substanceExposureRisk","type":"Extension","url":"http://hl7.org/fhir/StructureDefinition/allergyintolerance-substanceExposureRisk","version":"4.1.0"}